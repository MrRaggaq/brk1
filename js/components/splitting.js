var setProperty;!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Splitting=t()}(this,function(){"use strict";var n=document,t=n.createTextNode.bind(n);function e(n,t){return n.appendChild(t)}function r(t,r,o,u){var i=n.createElement("span");return r&&(i.className=r),o&&(!u&&i.setAttribute("data-"+r,o),i.textContent=o),t&&e(t,i)||i}function o(n,t){return n.getAttribute("data-"+t)}function u(t,e){return t&&0!=t.length?t.nodeName?[t]:[].slice.call(t[0].nodeName?t:(e||n).querySelectorAll(t)):[]}function i(n){for(var t=[];n--;)t[n]=[];return t}function c(n,t){n&&n.some(t)}function s(n){return function(t){return n[t]}}setProperty=function(n,t,e){n.style.setProperty(t,e)};var a={};function l(n,t,e,r){return{by:n,depends:t,key:e,split:r}}function f(n){return function n(t,e,r){var o=r.indexOf(t);if(-1==o)r.unshift(t),c(a[t].depends,function(e){n(e,t,r)});else{var u=r.indexOf(e);r.splice(o,1),r.splice(u,0,t)}return r}(n,0,[]).map(s(a))}function d(n){a[n.by]=n}function p(n,o,i,s,a){n.normalize();var l=[],f=document.createDocumentFragment();s&&l.push(n.previousSibling);var d=[];return u(n.childNodes).some(function(n){if(!n.tagName||n.hasChildNodes()){if(n.childNodes&&n.childNodes.length)return d.push(n),void l.push.apply(l,p(n,o,i,s,a));var e=n.wholeText||"",u=e.trim();u.length&&(" "===e[0]&&d.push(t(" ")),c(u.split(i),function(n,t){t&&a&&d.push(r(f,"whitespace"," ",a));var e=r(f,o,n);l.push(e),d.push(e)})," "===e[e.length-1]&&d.push(t(" ")))}else d.push(n)}),c(d,function(n){e(f,n)}),n.innerHTML="",e(n,f),l}var h=l("words",0,"word",function(n){return p(n,"word",/\s+/,0,1)}),m="chars",g=l(m,["words"],"char",function(n,t,e){var r=[];return c(e.words,function(n,e){r.push.apply(r,p(n,"char","",t.whitespace&&e))}),r});function v(n){var t=(n=n||{}).key;return u(n.target||"[data-splitting]").map(function(e){var r=e["üçå"];if(!n.force&&r)return r;r=e["üçå"]={el:e};var u=f(n.by||o(e,"splitting")||m),i=function(n,t){for(var e in t)n[e]=t[e];return n}({},n);return c(u,function(n){if(n.split){var o=n.by,u=(t?"-"+t:"")+n.key,s=n.split(e,i,r);u&&function(n,t,e){var r="--"+t,o=r+"-index";c(e,function(n,t){Array.isArray(n)?c(n,function(n){setProperty(n,o,t)}):setProperty(n,o,t)}),setProperty(n,r+"-total",e.length)}(e,u,s),r[o]=s,e.classList.add(o)}}),e.classList.add("splitting"),r})}function y(n,t,e){var r=u(t.matching||n.children,n),o={};return c(r,function(n){var t=Math.round(n[e]);(o[t]||(o[t]=[])).push(n)}),Object.keys(o).map(Number).sort(w).map(s(o))}function w(n,t){return n-t}v.html=function(n){var t=(n=n||{}).target=r();return t.innerHTML=n.content,v(n),t.outerHTML},v.add=d;var b=l("lines",["words"],"line",function(n,t,e){return y(n,{matching:e.words},"offsetTop")}),N=l("items",0,"item",function(n,t){return u(t.matching||n.children,n)}),x=l("rows",0,"row",function(n,t){return y(n,t,"offsetTop")}),P=l("cols",0,"col",function(n,t){return y(n,t,"offsetLeft")}),T=l("grid",["rows","cols"]),L=l("layout",0,0,function(n,t){var i=t.rows=+(t.rows||o(n,"rows")||1),c=t.columns=+(t.columns||o(n,"columns")||1);if(t.image=t.image||o(n,"image")||n.currentSrc||n.src,t.image){var s=u("img",n)[0];t.image=s&&(s.currentSrc||s.src)}t.image&&setProperty(n,"background-image","url("+t.image+")");for(var a=i*c,l=[],f=r(0,"cell-grid");a--;){var d=r(f,"cell");r(d,"cell-inner"),l.push(d)}return e(n,f),l}),k=l("cellRows",["layout"],"row",function(n,t,e){var r=t.rows,o=i(r);return c(e.layout,function(n,t,e){o[Math.floor(t/(e.length/r))].push(n)}),o}),A=l("cellColumns",["layout"],"col",function(n,t,e){var r=t.columns,o=i(r);return c(e.layout,function(n,t){o[t%r].push(n)}),o}),C=l("cells",["cellRows","cellColumns"],"cell",function(n,t,e){return e.layout});return d(h),d(g),d(b),d(N),d(x),d(P),d(T),d(L),d(k),d(A),d(C),v});